# SC - Home Care

The project is generated by [LoopBack](http://loopback.io).

## API

### Survey

**Post**

```JavaScript
// Request
{
	start: 123456789,
   	end: 123456789,
	patient: {
		id: 1234
 		name: 'Pato Donald'
      	age: '50.',
      	sex: 'male',
      	local: 'Rua Tamandaré, no 997, São Paulo, SP - Brazil',
      	tag: 123,
      	carers: [
			'Médicos',
			'Fisioterapeutas',
			'Fonoaudiólogos',
			'Enfermagem'
		]
	}            
}	

// Response
{
	message: 'Visita adicionada com sucesso.'
}
```

**Put**

```JavaScript
// Request
{
	id: 1,
	start: 123456789,
   	end: 123456789,
	patient: {
		id: 1234
 		name: 'Pato Donald'
      	age: '50.',
      	sex: 'male',
      	local: 'Rua Tamandaré, no 997, São Paulo, SP - Brazil',
      	tag: 123,
      	carers: [
			'Médicos',
			'Fisioterapeutas',
			'Fonoaudiólogos',
			'Enfermagem'
		]
	}            
}	

// Response
{
	message: 'Visita alterada com sucesso.'
}
```

**Get**


```JavaScript
// Request
{
	patientId: 1, // Optional
	collaboratorId: 1 // Optional
}

// Response
[
	{
		id: 1,
		start: 123456789,
	   	end: 123456789,
   		patient: {
   			id: 1234
      		name: 'Pato Donald'
	      	age: '50 anos',
	      	sex: 'male',
	      	local: 'Rua Tamandaré, no 997, São Paulo, SP - Brazil',
	      	tag: 123,
	      	carers: [
				'Médicos',
				'Fisioterapeutas',
				'Fonoaudiólogos',
				'Enfermagem'
			]
    	}            
  	}	
]
```

### Fields

Types:

* text
* largeText
* number
* date (timestamp)
* oneOf
* multipleOf
* multipleField

**Get**

```Javascript
// Response
[
	{
		id: 1,
		section: 'Território/Casa',
		fields: [
			{
				id: 1, 
				title: 'Rua',
				type: 'oneOf',
				options: ['Terra', 'Cascalho'],
				previous: 0
			},
			{
				id: 2, 
				title: 'Localização da residência',
				type: 'oneOf',
				options: ['Viela', 'Rua'],
				previous: 1
			},
			{
				id: 3, 
				title: 'Tipo de moradia',
				type: 'oneOf',
				options: ['Alvenaria', 'Madeira', 'Outros'],
				previous: 2
			},
			{
				id: 4, 
				title: 'Moradia',
				type: 'oneOf',
				options: ['Casa Térrea', 'Sobrado', 'Apartamento'],
				previous: 3
			},
			{
				id: 5, 
				title: 'Acesso',
				type: 'oneOf',
				options: ['Coberto', 'Descoberto'],
				previous: 4
			},
			{
				id: 6, 
				title: 'Piso',
				type: 'multipleField',
				fields: [
					{
						id: 7,
						type: 'oneOf',
						options: ['Não escorregadio', 'Escorregadio'],
						previous: 6
					},
					{
						id: 8,
						type: 'oneOf',
						options: ['Frio', 'Cimento', 'Terra'],
						previous: 7
					},
					{
						id: 9,
						type: 'oneOf',
						options: ['Regular', 'Irregular'],
						previous: 8
					}
				],
				previous: 5
			},
			{
				id: 10,
				title: 'Degraus',
				type: 'multipleField',
				fields: [
					{
						id: 11,
						title: 'Quantos:'
						type: 'text',
						previous: '10'
					},
					{
						id: 12,
						type: 'multipleOf',
						options: ['Corrimão', 'Rampa', 'Elevador']
						previous: '11'
					}
				],
				previous: 9
			},
			{
				id: 13, 
				title: 'Mora em Casa',
				type: 'oneOf',
				options: ['Alugada', 'Própria', 'Cedida/Emprestada'],
				previous: 12
			},
			{
				id: 14, 
				title: 'Luz elétrica',
				type: 'oneOf',
				options: ['Sim', 'Não'],
				previous: 13
			},
			{
				id: 15, 
				title: 'Coleta de lixo',
				type: 'oneOf',
				options: ['Sim', 'Não'],
				previous: 14
			},
			{
				id: 14, 
				title: 'Ventilação',
				type: 'oneOf',
				options: ['Boa', 'Regular', 'Inadequada'],
				previous: 13
			},
			{
				id: 15, 
				title: 'Iluminação',
				type: 'oneOf',
				options: ['Boa', 'Regular', 'Inadequada'],
				previous: 14
			},
			{
				id: 16, 
				title: 'Umidade',
				type: 'oneOf',
				options: ['Sim', 'Não'],
				previous: 15
			},
			{
				id: 17, 
				title: 'Salubridade',
				type: 'oneOf',
				options: ['Boa', 'Regular', 'Péssima'],
				previous: 16
			},
			{
				id: 18, 
				title: 'Organização',
				type: 'oneOf',
				options: ['Boa', 'Regular', 'Inadequada'],
				previous: 17
			},
			{
				id: 19, 
				title: 'Odor',
				type: 'oneOf',
				options: ['Sim', 'Não'],
				previous: 18
			},
			{
				id: 20, 
				title: 'Cômodos',
				type: 'text',
				previous: 19
			},
			{
				id: 21, 
				title: 'Localização do leito',
				type: 'oneOf',
				options: ['Sala', 'Quarto'],
				previous: 20
			},
			{
				id: 22, 
				title: 'Cama',
				type: 'oneOf',
				options: ['Casal', 'Solteiro', 'Hospitalar', 'Outro'],
				previous: 21
			},
			{
				id: 23, 
				title: 'Banheiro',
				type: 'multipleField',
				fields: [
					{
						id: 24,
						title: 'Higiene',
						type: 'oneOf',
						options: ['Boa', 'Regular', 'Inadequada'],
						previous: 23
					},
					{
						id: 25,
						type: 'multipleOf',
						options: ['Barra de proteção', 'Rampa', 'Degrau', 'Antiderrapante'],
						previous: 24
					}					
				],
				previous: 22
			},
			{
				id: 26,
				title: 'Animais de estimação',
				type: 'multipleField',
				fields: [
					{
						id: 27,
						title: 'Cachorros'
						type: 'multipleField',
						fields: [
							{
								id: 28,
								type: boolean,
								previous: 27
							},
							{
								id: 29,
								title: 'Quantos?'
								type: text,
								previous: 28
							},
						], 
						previous: 26
					},
					{
						id: 30,
						title: 'Gatos'
						type: 'multipleField',
						fields: [
							{
								id: 31,
								type: boolean,
								previous: 30
							},
							{
								id: 32,
								title: 'Quantos?'
								type: text,
								previous: 31
							},
						], 
						previous: 29
					},
					{
						id: 33,
						title: 'Outros'
						type: 'multipleField',
						fields: [
							{
								id: 34,
								type: boolean,
								previous: 33
							},
							{
								id: 35,
								title: 'Quantos?'
								type: text,
								previous: 34
							},
						], 
						previous: 32
					}
				],
				previous: 25
			},
			{
				id: 36,
				title: 'Moradores da casa (nome, idade e profissão)',
				type: 'largeText',
				previous: 35	
			},
			{
				id: 37,
				title: 'Cuidadores principais (familiares - grau de parentesco/contratados)',
				type: 'multipleField',
				fields: [
					{
						id: 38,
						title: 'Principal',
						type: 'text'
						previous: 37
					},
					{
						id: 39,
						title: 'Secundário',
						type: 'text'
						previous: 38
					},
					{
						id: 40,
						title: 'Informal',
						type: 'text'
						previous: 39
					},
					{
						id: 41,
						title: 'Dias da semana e horários',
						type: 'text'
						previous: 40
					}
				],
				previous: 36
			},
			{
				id: 42,
				title: 'Rede de apoio',
				type: 'multipleField',
				fields: [
					{
						id: 43,
						type: 'oneOf',
						options: ['Igreja', 'Familia', 'Amigos', 'Outros'],
						previous: 42
					},
					{
						id: 44,
						type: 'text',
						previous: 43
					}
				],
				previous: 41
			}
		],
		previous: 0
	}
]
```

### Replied fields

```Javascript
// Request
{
	patientId: 1
}

// Response
[
	{
		id: 1,
		section: 'Território/Casa',
		fields: [
			{
				id: 1, 
				title: 'Rua',
				type: 'oneOf',
				options: ['Terra', 'Cascalho'],
				reply: 'Terra',
				previous: 0
			},
			{
				id: 2, 
				title: 'Localização da residência',
				type: 'oneOf',
				options: ['Viela', 'Rua'],
				reply: 'Rua',
				previous: 1,
			},
			{
				id: 3, 
				title: 'Tipo de moradia',
				type: 'oneOf',
				options: ['Alvenaria', 'Madeira', 'Outros'],
				reply: 'Alvenaria',
				previous: 2
			}
		]
	}
]
```